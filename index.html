<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>hello phaser!</title>
        <script src="phaser.min.js"></script>
    </head>
    <body>

    <script type="text/javascript">
    var clickNum=0;


    window.onload = function() {

        var baseUrl="assets/"
       //var game = new Phaser.Game(600, 450, Phaser.AUTO, '', { preload: preload, create: create });
        var game = new Phaser.Game('100%', '100%', Phaser.AUTO, '', { preload: preload, create: create ,render:render,update:update});
        var logo;
        var text;
        var bot;
        var isPlay=false;
        var btn;

        function preload () {

            //game.scale.scaleMode = Phaser.ScaleManager.NO_SCALE;
            //game.scale.scaleMode = Phaser.ScaleManager.RESIZE;
            game.scale.scaleMode = Phaser.ScaleManager.USER_SCALE;
            game.scale.pageAlignVertically = true;
            game.scale.pageAlignHorizontally = true;
           game.load.atlasJSONHash('bot', baseUrl+"sprites/running_bot.png",baseUrl+"sprites/running_bot.json");
           //game.load.image('logo', baseUrl+'images/plant.png');
           game.load.image('logo', baseUrl+'images/phaser.png');
           game.load.spritesheet("btn",baseUrl+"buttons/button_sprite_sheet.png",193,71);
        }

        function create () {

            logo = game.add.sprite(game.world.centerX, game.world.centerY, 'logo');
            logo.anchor.setTo(0.5, 0.5);
            //logo.scale=new Phaser.Point(0.5,0.5);
            text=game.add.text(200,50,'',{ fill: '#ff00ff' });

            bot=game.add.sprite(20,20,"bot");
            bot.animations.add("run");
            bot.animations.play("run",14,true);
            isPlay=true;

            //game.input.onDown.add(clickStage, this);
            logo.inputEnabled=true;
            logo.events.onInputDown.add(clickStage,this);

            btn=game.add.button(4,bot.y+bot.height*1.6,"btn",actionOnClick,this,2,1,0);
            btn.scale=new Phaser.Point(0.5,0.5);
        }

        function actionOnClick(){
            if(isPlay)
            {
                isPlay=!isPlay;
                bot.animations.stop();
            }
            else
            {
                isPlay=!isPlay;
                 bot.animations.play("run",14,true);
            }

        }

        function clickStage(){

           // console.log("click stage:"+clickNum);
            //console.log(logo.width+"|"+logo.height);
            clickNum++
            //text.text="click image "+clickNum;
        }

        function update(){


        }

        function render(){
            //game.debug.inputInfo(32, 32);
            
        }

    };

    </script>

    </body>
</html>